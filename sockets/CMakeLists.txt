cmake_minimum_required(VERSION 3.15)
project(sockets LANGUAGES CXX)

file(GLOB BASESOCKETSCLIENT_SRC_FILES baseclient.cpp baseclient.h ${CMAKE_SOURCE_DIR}/*.xpm)
add_executable(basesocketsclient ${BASESOCKETSCLIENT_SRC_FILES})
target_link_libraries(basesocketsclient PRIVATE ${wxWidgets_LIBRARIES})

file(GLOB BASESOCKETSSERVER_SRC_FILES baseserver.cpp baseserver.h ${CMAKE_SOURCE_DIR}/*.xpm)
add_executable(basesocketsserver ${BASESOCKETSSERVER_SRC_FILES})
target_link_libraries(basesocketsserver PRIVATE ${wxWidgets_LIBRARIES})

if(WIN32)
  file(GLOB SOCKETSCLIENT_SRC_FILES client.cpp client.h ${CMAKE_SOURCE_DIR}/*.rc ${CMAKE_SOURCE_DIR}/*.xpm)
else()
  file(GLOB SOCKETSCLIENT_SRC_FILES client.cpp client.h ${CMAKE_SOURCE_DIR}/*.xpm)
endif()
if(WIN32)
  add_executable(socketsclient WIN32 ${SOCKETSCLIENT_SRC_FILES})
else()
  add_executable(socketsclient ${SOCKETSCLIENT_SRC_FILES})
endif()
target_link_libraries(socketsclient PRIVATE ${wxWidgets_LIBRARIES})

if(WIN32)
  file(GLOB SOCKETSSERVER_SRC_FILES server.cpp server.h ${CMAKE_SOURCE_DIR}/*.rc ${CMAKE_SOURCE_DIR}/*.xpm)
else()
  file(GLOB SOCKETSSERVER_SRC_FILES server.cpp server.h ${CMAKE_SOURCE_DIR}/*.xpm)
endif()
if(WIN32)
  add_executable(socketsserver WIN32 ${SOCKETSSERVER_SRC_FILES})
else()
  add_executable(socketsserver ${SOCKETSSERVER_SRC_FILES})
endif()
target_link_libraries(socketsserver PRIVATE ${wxWidgets_LIBRARIES})
